<!DOCTYPE html>
<html lang="ko-KR">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="apple-touch-icon" href="favicon.png" />
  <link rel="shortcut icon" type="image/x-icon" href="favicon.png" />
  <link rel="stylesheet" href="./css/lib/reset.css" />
<!--  <link rel="stylesheet" href="./css/">-->
  <!--[if lte IE 9]>
    <script src="./js/dist/html5shiv.min.js"></script>
    <script src="./js/dist/ie9.min.js"></script>
  <![endif]-->
  <script src="./js/dist/html5shiv.min.js"></script>
  <script src="./js/jquery/jquery-1.12.2.min.js"></script>
  <script src="./js/jquery/jquery-migrate-1.2.1.min.js"></script>
  <script src="./js/jquery/jquery-ui.min.js"></script>
  <title>Document</title>
  <style>
    #header{width: 100%; height: 50px; background-color: #ccc; border-bottom: 1px solid  #555;}
    #content{width: 15%;height: 500px;margin: 10px auto;border: 1px solid #0af; position: relative;}
    .btn{width: 100%; height: 0; position: relative;}
    .btn>button{width: 50px;height: 500px; position: absolute; top:0; background-color:rgba(255,255,255,0.5);}
    .btn>button:hover{background-color:rgba(255,255,255,0.8);}
    .btn>button.l_btn{left: 0;}
    .btn>button.r_btn{right: 0;}
    
    .ban{width: 500%; height: 100%; margin-left: -100%;}
    .ban>li{width:calc(100% / 5); height: 100%; float:left; text-align: center; line-height: 500px; font-size: 4rem;}
    .box1{background-color:#0cf;}
    .box2{background-color:#f5c;}
    .box3{background-color:#aac;}
    .box4{background-color:#ac7;}
    .box5{background-color:#7ac;}
    
    .ind{width: 400px; height: 20px; position: absolute; bottom: 10px; left: 50%; margin-left: -200px;}
    .ind>li{width: 20px; height: 20px; background-color:#fff; border-radius:10px; float: left; margin-left: 30px;text-align: center; line-height: 20px; cursor: pointer; transition:width 0.5s;}
    .ind>li:hover{background-color: #faa; }
    .ind>li.indWidth{width:60px;  }
  </style>
  <script></script>
</head>
<body>
  <div id="header">슬라이드 배너만들기2</div>
  <div id="content">
    <div class="btn">
      <button class="l_btn">&lt;</button>
      <button class="r_btn">&gt;</button>
    </div>
      <ul class="ban">
        <li class="box1">banner_01</li>
        <li class="box2">banner_02</li>
        <li class="box3">banner_03</li>
        <li class="box4">banner_04</li>
        <li class="box5">banner_05</li>
      </ul>
      <ul class="ind">
        <li class="ind1">1</li>
        <li class="ind2">2</li>
        <li class="ind3">3</li>
        <li class="ind4">4</li>
        <li class="ind5">5</li>
      </ul>
  </div>
  <script>
    (function($){
      'use strict';
      
      var banner = $('.ban'),
          bannerMargin = banner.css('margiin-left'),
          ind = $('.ind'),
          banLi = banner.find('li'),
          banLiFirst = banner.find('li').first(), //최초의 첫번째배너
          banLiWid = banner.find('li').width(),
          banLihei = banner.find('li').height(),
          indLi = ind.find('li'),
          indLiFirst = ind.find('li').first(),
          banfun, indfun,
          l_btn = $('.l_btn'),
          r_btn = $('.r_btn'),
          slidingT = 500;
      
//      indLiFirst.css({'width': '50px', 'border-radius':banLihei});
      indLiFirst.addClass('indWidth');
      // 첫번째 이미지 보이기
      
      banfun =function(){ banLi.last().prependTo('.ban'); };
      indfun =function(){ indLi.last().prependTo('.ind'); };
      banfun();
      indfun();
      
      // slide-banner 버튼클릭시 이동
      
      l_btn.on('click', function(){
        var banLi = banner.find('li');
        banLi.first().stop().animate({'margin-left':banLiWid}, slidingT, function(){
          banLi.css({'margin':0}).last().prependTo(banner);
        })
      });
      
      r_btn.on('click', function(){
        var banLi = banner.find('li')
        banLi.first().stop().animate({'margin-left':-banLiWid}, slidingT, function(){
          banLi.css({'margin':0}).first().appendTo(banner);
        })
      });
      
      // 인디게이터 표시 및 위치 이동
      indLi.on('click', function(){
       var $this = $(this),
           index = $this.index(),
           indexPlus = index - 1,
           banLi = banner.find('li'),
           banLiWid = banner.find('li').width();
           
          $this.animate({'background-color':'#fac'},300).addClass('indWidth')
               .siblings().animate({'background-color':'#fff'}).removeClass('indWidth');
//        banLi.eq(index).stop().animate({'background-color':'#777'},500)
//             .siblings().animate({'background-color':'#aff'},500);//({'margin-left':(-banLiWid*index)+banLiWid});
        banner.stop().animate({'margin-left':-banLiWid*index},500,function(){
             //banner.css({'margin-left': -100+'%'});
//             banLi.eq(index).siblings().prependTo(banner);
//             banLi.eq(index-1).before().appendTo(banner);
             banner.find('li').filter(:lt(index)).appendTo(banner);
        });
        
        //.siblings().appendTo(banner);
      });
    })(this.jQuery);
  </script>
</body>
</html>





